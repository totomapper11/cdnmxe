$(document).ready(function(e){"use strict";e(document);e('<style type="text/css">.sceditor-dropdown { text-align: '+("rtl"===e("body").css("direction")?"right":"left")+"; }.sceditor-button-spoiler div  { background: url(images/spoiler/spoiler.png) no-repeat; }</style>").appendTo("body"),e.sceditor.plugins.bbcode.bbcode.set("spoiler",{allowsEmpty:!0,isInline:!1,format:function(i,t){return t=e("div#spoilerc"),"undefined"!=typeof attrs.defaultattr?"[spoiler="+attrs.defaultattr+"]"+t+"[/spoiler]":"[spoiler]"+t+"[/spoiler]"},html:function(e,i,t){return"undefined"!=typeof i.defaultattr?'<div data-desc="spoilerc" id="spoilerc" style="border: 1px solid #ccc; border-radius: 4px; padding: 10px;" id="spoilers"><span style="display: none;">[spoiler='+i.defaultattr+']</span><div id="spoilers">'+t+'</div><span style="display: none;">[/spoiler]</span></div>':'<div data-desc="spoilerc" id="spoilerc" style="border: 1px solid #ccc; border-radius: 4px; padding: 10px;" id="spoilers"><span style="display: none;">[spoiler]</span><div id="spoilers">'+t+'</div><span style="display: none;">[/spoiler]</span></div>'},breakStart:!0,breakEnd:!0}),e.sceditor.command.set("spoiler",{_dropDown:function(i,t,o){var s;s=e('<div><label for="spoilertitle">'+i._("Spoiler Title:")+'</label> <input type="text" id="spoilertitle" value="" /></div><div><label for="spoilerdesc">'+i._("Spoiler Content:")+'</label> <textarea type="text" id="spoilerdesc" /></div><div><input type="button" class="button" value="'+i._("Insert")+'" /></div>'),setTimeout(function(){s.find("#spoiler").focus()},100),s.find(".button").click(function(e){var t=s.find("#spoilertitle").val();if(""!==t)var r=s.find("#spoilerdesc").val(),l="[spoiler="+t+"]",d="[/spoiler]";else var r=s.find("#spoilerdesc").val(),l="[spoiler]",d="[/spoiler]";o?(l+=o,d=d):""!==t?i.insert("[spoiler="+t+"]"+r+"[/spoiler]"):i.insert("[spoiler]"+r+"[/spoiler]"),i.closeDropDown(!0),e.preventDefault()}),i.createDropDown(t,"insertspoiler",s)},exec:function(i){e.sceditor.command.get("spoiler")._dropDown(this,i)},txtExec:function(i){e.sceditor.command.get("spoiler")._dropDown(this,i)},tooltip:"Spoiler Content:"})});